<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Reproducible Research: Peer Assessment 1</title>

<script src="PA1_template_files/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="PA1_template_files/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="PA1_template_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="PA1_template_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="PA1_template_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="PA1_template_files/navigation-1.1/tabsets.js"></script>
<link href="PA1_template_files/highlightjs-1.1/default.css" rel="stylesheet" />
<script src="PA1_template_files/highlightjs-1.1/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>



<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Reproducible Research: Peer Assessment 1</h1>

</div>


<div id="loading-and-preprocessing-the-data" class="section level2">
<h2>Loading and preprocessing the data</h2>
<p>Throughout the project, functions will be used from the “tidyverse” collection of packages for data science <a href= http://tidyverse.tidyverse.org>http://tidyverse.tidyverse.org</a>.</p>
<pre class="r"><code>library(tidyverse)</code></pre>
<p>Loading the data with correct data types:</p>
<pre class="r"><code>actdata &lt;- read_csv(&quot;activity.zip&quot;, 
                    col_types = cols(
                        steps = col_integer(),
                        date = col_date(format = &quot;&quot;),
                        interval = col_integer()
                        )) </code></pre>
</div>
<div id="what-is-mean-total-number-of-steps-taken-per-day" class="section level2">
<h2>What is mean total number of steps taken per day?</h2>
<p>The activity data is grouped by day and sums calculated</p>
<pre class="r"><code>dailysteps &lt;- summarise(group_by(actdata, date), 
                        steps = sum(steps, na.rm = TRUE))

g &lt;- ggplot(dailysteps, aes(steps)) +
    xlab(&quot;Steps/Day&quot;) + 
    ylab(&quot;Count&quot;) +
    ggtitle(&quot;Histogram of Daily Steps Taken&quot;) + 
    geom_histogram(bins=12)
ggsave(&quot;figure/stephist.png&quot;, dpi=72)

meanstep &lt;- mean(dailysteps$steps)
medianstep &lt;- median(dailysteps$steps)</code></pre>
<p><b>Mean Daily Steps: </b> 9354.23 <br> <b>Median Daily Steps: </b> 10395</p>
<p><img src="figure/stephist.png"></p>
</div>
<div id="what-is-the-average-daily-activity-pattern" class="section level2">
<h2>What is the average daily activity pattern?</h2>
<p>The activity data is grouped by interval and means for each interval calculated.</p>
<pre class="r"><code>intervalsteps = summarise(group_by(actdata, interval), 
                          mean = mean(steps, na.rm = TRUE))

g &lt;- ggplot(intervalsteps, aes(interval, mean)) +
    xlab(&quot;Interval&quot;) + 
    ylab(&quot;Average Steps&quot;) +
    ggtitle(&quot;Average Steps Taken Per Interval&quot;) + 
    geom_line()
ggsave(&quot;figure/intervalavg.png&quot;, dpi=72)

maxintmean &lt;- max(intervalsteps$mean)
maxinterval &lt;- filter(intervalsteps, mean == maxintmean)$interval</code></pre>
<p><b>Interval with Maximum Average Steps: </b>835 (Value: 206.1698113)</p>
<p><img src="figure/intervalavg.png"></p>
</div>
<div id="imputing-missing-values" class="section level2">
<h2>Imputing missing values</h2>
<p>First, let’s count the number of missing measurements:</p>
<pre class="r"><code>nacount &lt;- sum(is.na(actdata$steps))</code></pre>
<p><b>Intervals Without Steps: </b>2304</p>
<p>We will impute missing values by taking the floor of the mean steps taken for the interval of the missing value over all days observed.</p>
<pre class="r"><code>imputesteps &lt;- function (int) {
    as.integer(filter(intervalsteps, interval==int)$mean) 
}

actdatanew &lt;- rowwise(actdata) %&gt;% 
    mutate(newsteps = ifelse(is.na(steps), 
                             imputesteps(interval), 
                             steps)) %&gt;% ungroup()</code></pre>
<p>Now we’ll generate new statistics to examine the effects of imputing values. As you can see, by imputing values we are eliminating zero values from the data set which increases the mean and median values. The histogram is also no longer left-skewed.</p>
<pre class="r"><code>newdailysteps &lt;- summarise(group_by(actdatanew, date), 
                        steps = sum(newsteps))

g &lt;- ggplot(newdailysteps, aes(steps)) +
    xlab(&quot;Steps/Day&quot;) + 
    ylab(&quot;Count&quot;) +
    ggtitle(&quot;Histogram of Daily Steps Taken&quot;) + 
    geom_histogram(bins=12)
ggsave(&quot;figure/newstephist.png&quot;, dpi=72)

newmeanstep &lt;- mean(newdailysteps$steps)
newmedianstep &lt;- median(newdailysteps$steps)</code></pre>
<p><b>New Mean Daily Steps: </b> 10749.77 <br> <b>New Median Daily Steps: </b> 10641</p>
<p><img src="figure/newstephist.png"></p>
</div>
<div id="are-there-differences-in-activity-patterns-between-weekdays-and-weekends" class="section level2">
<h2>Are there differences in activity patterns between weekdays and weekends?</h2>
<p>Add a column to the data set to indicate whether the date is a weekday or a weekend. Then calculate the average steps taken for each interval on weekdays and weekends.</p>
<pre class="r"><code>actdatanew &lt;- rowwise(actdatanew) %&gt;% 
    mutate(wday = factor(ifelse(weekdays(date) %in% c(&quot;Saturday&quot;, &quot;Sunday&quot;), 
                                &quot;weekend&quot;, 
                                &quot;weekday&quot;),
                         levels = c(&quot;weekday&quot;, &quot;weekend&quot;))) %&gt;% ungroup()

wdaymean &lt;- summarise(group_by(actdatanew, interval, wday), 
                        meansteps = mean(newsteps))
g &lt;- ggplot(wdaymean, aes(interval, meansteps)) +
    xlab(&quot;Interval&quot;) + 
    ylab(&quot;Average Steps&quot;) +
    ggtitle(&quot;Average Steps Taken Per Interval&quot;) + 
    facet_wrap(~wday, ncol=1) +
    geom_line()
ggsave(&quot;figure/wday.png&quot;, dpi=72)</code></pre>
<p><img src="figure/wday.png"><BR></p>
Comparing weekday and weekend activity yields the following:
<UL>
<LI>
Highest activity levels on weekends and weekdays are between 8AM and 9:30AM
<LI>
Activity levels between 8AM and 9:30AM are higher on weekdays
<LI>
Activity levels are higher after 8PM on weekends
</UL>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
